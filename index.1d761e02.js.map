{"mappings":"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","sources":["src/js/index.js"],"sourcesContent":["const API_URL = 'https://673c7b8396b8dcd5f3fa3fd7.mockapi.io/beauty';\n\nconst bookingCalendarCcontainer = document.querySelector(\n  '.booking_calendar_container'\n);\nconst bookingContainerBtns = document.querySelector('.booking_container_btns');\nconst calendarTable = document.getElementById('calendar-table');\nconst modal = document.getElementById('modal');\nconst form = document.getElementById('booking-form');\nconst nameInput = document.getElementById('name-input');\nconst phoneInput = document.getElementById('phone-input');\nconst prevWeekBtn = document.getElementById('prev-week');\nconst nextWeekBtn = document.getElementById('next-week');\nconst modalBtn = document.getElementById('modal_btn');\nconst modalMasters = document.getElementById('modal_masters');\nconst bookingBtn = document.querySelectorAll('.btn_booking');\nconst bookingBtnMasters = document.getElementById('booking_btn_masters');\nconst modalMastersSelect = document.getElementById('modal_masters_select');\nconst bookingBtnArrS = document.querySelector('.booking_btn_arr_s');\nconst bookingBtnArrM = document.querySelector('.booking_btn_arr_m');\nconst bookingBtnServices = document.getElementById('booking_btn_services');\nconst bookingContainerBtnsTop = document.querySelector(\n  '.booking_container_btns_top'\n);\nconst modalPrice = document.getElementById('modal_price');\n\nlet currentWeekStart = new Date();\nlet bookedSlots = [];\nlet pendingBooking = null;\n\nconst weekDays = ['ПН', 'ВТ', 'СР', 'ЧТ', 'ПТ', 'СБ', 'НД'];\nconst timeSlots = [\n  '09:00',\n  '10:00',\n  '11:00',\n  '12:00',\n  '13:00',\n  '14:00',\n  '15:00',\n  '16:00',\n];\nlet services = ['Манікюр/педикюр', 'Макіяж', 'Брови/Вії'];\n\nfunction formatDate(date) {\n  return date.toISOString().split('T')[0];\n}\n\nfunction generateWeek(startDate) {\n  const week = [];\n  for (let i = 0; i < 7; i++) {\n    const date = new Date(startDate);\n    date.setDate(date.getDate() + i);\n    week.push(date);\n  }\n  return week;\n}\n\nasync function fetchBookedSlots() {\n  try {\n    const response = await fetch(API_URL);\n    if (!response.ok)\n      throw new Error('Помилка завантаження даних по бронювання');\n    bookedSlots = await response.json();\n    generateCalendar();\n  } catch (error) {\n    console.error('Помилка:', error);\n  }\n}\n\nfunction isServiceBooked(date, time, service) {\n  return bookedSlots.some(\n    slot => slot.date === date && slot.time === time && slot.service === service\n  );\n}\n\nfunction openModal(key, service) {\n  pendingBooking = { key, service };\n  modal.classList.add('active');\n}\n\nfunction openModalBtn() {\n  modalBtn.style.display = 'flex';\n}\n\nfunction closeModal() {\n  modal.classList.remove('active');\n  modalMasters.classList.remove('active');\n  modalPrice.classList.remove('active');\n  pendingBooking = null;\n  modalBtn.style.display = 'none';\n  bookingBtnArrM.classList.remove('booking_btn_arr_down');\n  bookingBtnArrS.classList.remove('booking_btn_arr_down');\n}\n\nfunction openModalPrice() {\n  modalPrice.classList.add('active');\n  bookingBtnArrS.classList.add('booking_btn_arr_down');\n}\nbookingBtnServices.addEventListener('click', openModalPrice);\nbookingBtnMasters.addEventListener('click', openModalMasters);\n\nbookingBtn.forEach(button => {\n  button.addEventListener('click', openModalBtn);\n});\n\ndocument.querySelectorAll('.close-btn').forEach(button => {\n  button.addEventListener('click', closeModal);\n});\n\nwindow.addEventListener('click', event => {\n  if (\n    event.target === modal ||\n    event.target === modalBtn ||\n    event.target === modalMasters ||\n    event.target === modalPrice\n  )\n    closeModal();\n});\n\nfunction generateCalendar() {\n  const currentDate = new Date();\n  const week = generateWeek(currentWeekStart);\n  const currentTime = currentDate.toTimeString().slice(0, 5);\n\n  if (currentWeekStart <= currentDate) {\n    prevWeekBtn.classList.add('hidden');\n  } else {\n    prevWeekBtn.classList.remove('hidden');\n  }\n\n  calendarTable.innerHTML = '';\n\n  const headerRow = document.createElement('tr');\n  headerRow.innerHTML = `\n    <th></th>\n    ${week\n      .map(\n        day =>\n          `<th>${day.toLocaleDateString('uk-UA', {\n            month: 'short',\n            day: '2-digit',\n            weekday: 'short',\n          })}</th>`\n      )\n      .join('')\n      .toUpperCase()}\n  `;\n  headerRow.classList.add('headerRowContent');\n  calendarTable.appendChild(headerRow);\n\n  timeSlots.forEach(time => {\n    const row = document.createElement('tr');\n\n    const timeCell = document.createElement('td');\n    timeCell.textContent = time;\n    timeCell.classList.add('timeCellTime');\n    row.appendChild(timeCell);\n\n    week.forEach(date => {\n      const key = `${formatDate(date)} ${time}`;\n      const cell = document.createElement('td');\n\n      const isToday = date.toDateString() === currentDate.toDateString();\n      const isPast = date < currentDate && isToday && time <= currentTime;\n\n      if (isPast) {\n        cell.classList.add('disabled');\n        cell.textContent = '';\n      } else {\n        services.forEach(service => {\n          const isBooked = isServiceBooked(formatDate(date), time, service);\n          const button = document.createElement('button');\n          button.textContent = service;\n          button.disabled = isBooked;\n          button.classList.add('calendarServisesContent');\n\n          if (isBooked) {\n            button.classList.add('disabled');\n          }\n\n          button.addEventListener('click', () => openModal(key, service));\n          cell.appendChild(button);\n        });\n      }\n      row.appendChild(cell);\n    });\n\n    calendarTable.appendChild(row);\n  });\n}\n\nfunction openModalMasters() {\n  modalMasters.classList.add('active');\n  switch (modalMastersSelect.options[modalMastersSelect.selectedIndex].text) {\n    case 'Анна':\n      services = ['Манікюр/педикюр'];\n      bookingCalendarCcontainer.style.height = '400px';\n      bookingContainerBtns.style.height = '400px';\n      break;\n    case 'Ольга':\n      services = ['Брови/Вії'];\n      bookingCalendarCcontainer.style.height = '290px';\n      bookingContainerBtns.style.height = '290px';\n      break;\n    case 'Марія':\n      services = ['Макіяж'];\n      bookingCalendarCcontainer.style.height = '290px';\n      bookingContainerBtns.style.height = '290px';\n      break;\n    default:\n      services = ['Манікюр/педикюр', 'Макіяж', 'Брови/Вії'];\n      bookingCalendarCcontainer.style.height = '790px';\n      bookingContainerBtns.style.height = '790px';\n      break;\n  }\n  generateCalendar();\n}\n\nmodalMastersSelect.addEventListener('change', openModalMasters);\nbookingBtnMasters.addEventListener('click', () => {\n  bookingBtnArrM.classList.add('booking_btn_arr_down');\n});\n\nform.addEventListener('submit', async event => {\n  event.preventDefault();\n\n  if (!pendingBooking) {\n    alert('Дані про бронювання відсутні. Спробуйте знову.');\n    return;\n  }\n\n  const name = nameInput.value;\n  const phone = phoneInput.value;\n  const [date, time] = pendingBooking.key.split(' ');\n  const booking = { date, time, service: pendingBooking.service, name, phone };\n\n  try {\n    const response = await fetch(API_URL, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(booking),\n    });\n\n    if (response.ok) {\n      bookedSlots.push(await response.json());\n      closeModal();\n      nameInput.value = '';\n      phoneInput.value = '';\n      generateCalendar();\n      alert(\n        `Бронювання підтверджено на ${date} ${time} (${pendingBooking.service}).`\n      );\n    } else {\n      alert('Помилка при бронюванні.');\n    }\n  } catch (error) {\n    console.error('Помилка мережі:', error);\n  }\n});\n\nnextWeekBtn.addEventListener('click', () => {\n  currentWeekStart.setDate(currentWeekStart.getDate() + 7);\n  fetchBookedSlots();\n});\n\nprevWeekBtn.addEventListener('click', () => {\n  currentWeekStart.setDate(currentWeekStart.getDate() - 7);\n  fetchBookedSlots();\n});\n\nfetchBookedSlots();\n"],"names":["$85a5f86b715fe7db$var$bookingCalendarCcontainer","document","querySelector","$85a5f86b715fe7db$var$bookingContainerBtns","$85a5f86b715fe7db$var$calendarTable","getElementById","$85a5f86b715fe7db$var$modal","$85a5f86b715fe7db$var$form","$85a5f86b715fe7db$var$nameInput","$85a5f86b715fe7db$var$phoneInput","$85a5f86b715fe7db$var$prevWeekBtn","$85a5f86b715fe7db$var$nextWeekBtn","$85a5f86b715fe7db$var$modalBtn","$85a5f86b715fe7db$var$modalMasters","$85a5f86b715fe7db$var$bookingBtn","querySelectorAll","$85a5f86b715fe7db$var$bookingBtnMasters","$85a5f86b715fe7db$var$modalMastersSelect","$85a5f86b715fe7db$var$bookingBtnArrS","$85a5f86b715fe7db$var$bookingBtnArrM","$85a5f86b715fe7db$var$bookingBtnServices","$85a5f86b715fe7db$var$modalPrice","$85a5f86b715fe7db$var$currentWeekStart","Date","$85a5f86b715fe7db$var$bookedSlots","$85a5f86b715fe7db$var$pendingBooking","$85a5f86b715fe7db$var$timeSlots","$85a5f86b715fe7db$var$services","$85a5f86b715fe7db$var$formatDate","date","toISOString","split","async","$85a5f86b715fe7db$var$fetchBookedSlots","response","fetch","ok","Error","json","$85a5f86b715fe7db$var$generateCalendar","error","console","$85a5f86b715fe7db$var$openModalBtn","style","display","$85a5f86b715fe7db$var$closeModal","classList","remove","currentDate","week","startDate","i","setDate","getDate","push","$85a5f86b715fe7db$var$generateWeek","currentTime","toTimeString","slice","add","innerHTML","headerRow","createElement","map","day","toLocaleDateString","month","weekday","join","toUpperCase","appendChild","forEach","time","row","timeCell","textContent","key","cell","isToday","toDateString","service","isBooked","some","slot","$85a5f86b715fe7db$var$isServiceBooked","button","disabled","addEventListener","$85a5f86b715fe7db$var$openModal","$85a5f86b715fe7db$var$openModalMasters","options","selectedIndex","text","height","window","event","target","preventDefault","alert","name","value","phone","booking","method","headers","body","JSON","stringify"],"version":3,"file":"index.1d761e02.js.map"}